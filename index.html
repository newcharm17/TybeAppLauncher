<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TybeAppLauncher Store</title>
  <style>
    :root {
      --primary: #008080;
      --primary-dark: #006060;
      --background: #ffffff;
      --sidebar-bg: #f8f8f8;
      --card-bg: #ffffff;
      --text: #222222;
      --text-light: #666666;
      --border: #e0e0e0;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }

    body {
      background: var(--background);
      color: var(--text);
      display: flex;
      min-height: 100vh;
    }

    .sidebar {
      width: 220px;
      background: var(--sidebar-bg);
      border-right: 1px solid var(--border);
      padding: 20px 0;
    }

    .sidebar-item {
      padding: 12px 24px;
      cursor: pointer;
      font-size: 15px;
    }

    .sidebar-item.active {
      background: var(--primary);
      color: white;
      font-weight: 600;
    }

    .main { flex: 1; padding: 24px; max-width: 1000px; }

    .page-title { font-size: 24px; font-weight: 600; margin-bottom: 20px; }

    .apps-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 22px;
    }

    .app-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 18px;
      cursor: pointer;
    }

    .app-icon {
      width: 50px;
      height: 50px;
      background: var(--primary);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 20px;
      margin-bottom: 14px;
    }

    .app-title { font-weight: 600; font-size: 16px; margin-bottom: 6px; }
    .app-desc { font-size: 13px; color: var(--text-light); line-height: 1.4; margin-bottom: 12px; }
    .app-meta { font-size: 12px; color: var(--text-light); }

    .install-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 3px;
      font-size: 13px;
      cursor: pointer;
    }
    .install-btn:hover { background: var(--primary-dark); }
  </style>
</head>
<body>

  <div class="sidebar">
    <div class="sidebar-item active" data-page="store">–ú–∞–≥–∞–∑–∏–Ω</div>
    <div class="sidebar-item" data-page="library">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</div>
  </div>

  <div class="main">
    <div id="page-store" class="page">
      <h1 class="page-title">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h1>
      <div class="apps-grid" id="appsGrid"></div>
    </div>

    <div id="page-detail" class="page" style="display:none;"></div>
    <div id="page-library" class="page" style="display:none;">
      <h1 class="page-title">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</h1>
      <p>–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å.</p>
    </div>
  </div>

  <script>
    const apps = [
      {
        id: "minesweeper",
        name: "–°–∞–ø—ë—Ä",
        icon: "üí£",
        company: "Tybe Software",
        version: "1.0",
        size: "1.8 MB",
        price: "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ",
        description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –°–∞–ø—ë—Ä –≤ —Å—Ç–∏–ª–µ MetroFramework Teal. –ë–µ–∑ —Ä–µ–∫–ª–∞–º—ã, –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.",
        fileName: "Minesweeper.tlf"
      }
    ];

    function renderStore() {
      const grid = document.getElementById('appsGrid');
      grid.innerHTML = apps.map(app => `
        <div class="app-card" onclick="showAppDetail('${app.id}')">
          <div class="app-icon">${app.icon}</div>
          <div class="app-title">${app.name}</div>
          <div class="app-desc">${app.description}</div>
          <div class="app-meta">${app.company} ‚Ä¢ ${app.price}</div>
        </div>
      `).join('');
    }

    function showAppDetail(appId) {
      const app = apps.find(a => a.id === appId);
      document.getElementById('page-store').style.display = 'none';
      const detail = document.getElementById('page-detail');
      detail.innerHTML = `
        <button onclick="backToStore()" style="margin-bottom:16px;color:var(--primary);background:none;border:none;cursor:pointer;">‚Üê –ù–∞–∑–∞–¥</button>
        <div style="background:#fafafa;border:1px solid #e0e0e0;border-radius:8px;padding:20px;">
          <div style="display:flex;gap:16px;margin-bottom:16px;">
            <div style="width:60px;height:60px;background:var(--primary);border-radius:6px;display:flex;align-items:center;justify-content:center;color:white;font-size:24px;">${app.icon}</div>
            <div>
              <h2 style="font-size:22px;margin-bottom:4px;">${app.name}</h2>
              <p style="color:#666;font-size:14px;">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: ${app.company}<br>–í–µ—Ä—Å–∏—è: ${app.version}<br>–†–∞–∑–º–µ—Ä: ${app.size}</p>
            </div>
          </div>
          <p style="margin:16px 0;">${app.description}</p>
          <button class="install-btn" onclick="installApp('${app.id}', '${app.fileName}')">
            –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (${app.price})
          </button>
        </div>
      `;
      detail.style.display = 'block';
    }

    function backToStore() {
      document.getElementById('page-detail').style.display = 'none';
      document.getElementById('page-store').style.display = 'block';
    }

    function installApp(appId, fileName) {
      if (typeof tybeHost !== 'undefined') {
        tybeHost.installApp(appId, fileName);
      } else {
        alert('–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ TybeAppLauncher');
      }
    }

    document.querySelectorAll('.sidebar-item').forEach(item => {
      item.addEventListener('click', () => {
        document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
        document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
        item.classList.add('active');
        const id = item.getAttribute('data-page');
        if (id === 'store') renderStore();
        document.getElementById(`page-${id}`).style.display = 'block';
      });
    });

    renderStore();
  </script>

</body>
</html>
